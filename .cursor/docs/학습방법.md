# React Hook ë° í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° í•™ìŠµ ê°€ì´ë“œ

## ğŸ“š í•™ìŠµ ëª©í‘œ

ì´ ê°€ì´ë“œë¥¼ í†µí•´ ë‹¤ìŒì„ í•™ìŠµí•©ë‹ˆë‹¤:
1. React Hookì˜ ì˜¬ë°”ë¥¸ ì‚¬ìš©ë²•ê³¼ ë¶„ë¦¬ ì›ì¹™
2. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ ì´í•´
3. ì•¡ì…˜ê³¼ ìˆœìˆ˜í•¨ìˆ˜ì˜ ë¶„ë¦¬
4. ì—”í‹°í‹° ê¸°ë°˜ ì•„í‚¤í…ì²˜ ì„¤ê³„
5. ê³„ì¸µì  êµ¬ì¡°ì™€ ì˜ì¡´ì„± ê´€ë¦¬

---

## ğŸ¯ í•µì‹¬ ê°œë… ì´í•´

### 1. React Hook ì´í•´í•˜ê¸°

#### 1.1 ê¸°ë³¸ Hookì˜ ì—­í• ê³¼ ì‚¬ìš© ì‹œê¸°

**useState - ìƒíƒœ ê´€ë¦¬**
- **ì—­í• **: ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” Hook
- **ì‚¬ìš© ì‹œê¸°**: ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ë³€ê²½ ê°€ëŠ¥í•œ ë°ì´í„°ê°€ í•„ìš”í•  ë•Œ
- **ì£¼ì˜ì‚¬í•­**: 
  - ê°ì²´ë‚˜ ë°°ì—´ì„ ìƒíƒœë¡œ ì‚¬ìš©í•  ë•ŒëŠ” ë¶ˆë³€ì„±ì„ ìœ ì§€í•´ì•¼ í•¨
  - ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ìƒíƒœë¥¼ ìµœì†Œí™”

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ê¸°ë³¸ íƒ€ì… ì‚¬ìš©
const [count, setCount] = useState(0);
const [name, setName] = useState('');

// âœ… ì¢‹ì€ ì˜ˆ: ê°ì²´ ìƒíƒœë¥¼ ë¶ˆë³€ì„± ìœ ì§€í•˜ë©° ì—…ë°ì´íŠ¸
const [user, setUser] = useState({ name: '', age: 0 });
setUser(prev => ({ ...prev, name: 'John' })); // ë¶ˆë³€ì„± ìœ ì§€

// âŒ ë‚˜ìœ ì˜ˆ: ê°ì²´ë¥¼ ì§ì ‘ ìˆ˜ì •
setUser(prev => { prev.name = 'John'; return prev; }); // ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”!
```

**useEffect - ì‚¬ì´ë“œ ì´í™íŠ¸ ì²˜ë¦¬**
- **ì—­í• **: ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ í›„ ì‹¤í–‰ë˜ëŠ” ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ì²˜ë¦¬
- **ì‚¬ìš© ì‹œê¸°**: 
  - API í˜¸ì¶œ
  - DOM ì¡°ì‘
  - êµ¬ë…(subscription) ì„¤ì •
  - localStorage ì ‘ê·¼
- **ì˜ì¡´ì„± ë°°ì—´**: 
  - ë¹ˆ ë°°ì—´ `[]`: ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ í•œ ë²ˆë§Œ ì‹¤í–‰
  - ì˜ì¡´ì„± í¬í•¨ `[value]`: valueê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
  - ì˜ì¡´ì„± ì—†ìŒ: ë§¤ ë Œë”ë§ë§ˆë‹¤ ì‹¤í–‰ (ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: localStorage ë™ê¸°í™”
useEffect(() => {
  localStorage.setItem('cart', JSON.stringify(cart));
}, [cart]); // cartê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰

// âœ… ì¢‹ì€ ì˜ˆ: ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ í•œ ë²ˆë§Œ ì‹¤í–‰
useEffect(() => {
  const saved = localStorage.getItem('products');
  if (saved) {
    setProducts(JSON.parse(saved));
  }
}, []); // ë¹ˆ ë°°ì—´ = ë§ˆìš´íŠ¸ ì‹œ í•œ ë²ˆë§Œ

// âŒ ë‚˜ìœ ì˜ˆ: ì˜ì¡´ì„± ë°°ì—´ ëˆ„ë½ (ë¬´í•œ ë£¨í”„ ìœ„í—˜)
useEffect(() => {
  setCount(count + 1); // countê°€ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ ì‹¤í–‰ â†’ ë¬´í•œ ë£¨í”„!
});
```

**useCallback - í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜**
- **ì—­í• **: í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì¬ìƒì„± ë°©ì§€
- **ì‚¬ìš© ì‹œê¸°**: 
  - ìì‹ ì»´í¬ë„ŒíŠ¸ì— í•¨ìˆ˜ë¥¼ propsë¡œ ì „ë‹¬í•  ë•Œ
  - useEffectì˜ ì˜ì¡´ì„±ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ
- **ì´ìœ **: í•¨ìˆ˜ê°€ ë§¤ ë Œë”ë§ë§ˆë‹¤ ìƒˆë¡œ ìƒì„±ë˜ë©´ ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ë¦¬ë Œë”ë§ë¨

```typescript
// âŒ ë‚˜ìœ ì˜ˆ: ë§¤ ë Œë”ë§ë§ˆë‹¤ ìƒˆ í•¨ìˆ˜ ìƒì„±
const addToCart = (product: Product) => {
  setCart(prev => [...prev, product]);
};
// ì´ í•¨ìˆ˜ë¥¼ ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ë©´ ìì‹ì´ ë§¤ë²ˆ ë¦¬ë Œë”ë§ë¨

// âœ… ì¢‹ì€ ì˜ˆ: useCallbackìœ¼ë¡œ ë©”ëª¨ì´ì œì´ì…˜
const addToCart = useCallback((product: Product) => {
  setCart(prev => [...prev, product]);
}, []); // ì˜ì¡´ì„±ì´ ì—†ìœ¼ë¯€ë¡œ í•¨ìˆ˜ëŠ” í•œ ë²ˆë§Œ ìƒì„±ë¨

// âœ… ì¢‹ì€ ì˜ˆ: ì˜ì¡´ì„±ì´ ìˆëŠ” ê²½ìš°
const addToCart = useCallback((product: Product) => {
  if (cart.length >= 10) {
    alert('ì¥ë°”êµ¬ë‹ˆê°€ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤');
    return;
  }
  setCart(prev => [...prev, product]);
}, [cart]); // cartê°€ ë³€ê²½ë  ë•Œë§Œ í•¨ìˆ˜ ì¬ìƒì„±
```

**useMemo - ê°’ ë©”ëª¨ì´ì œì´ì…˜**
- **ì—­í• **: ê³„ì‚° ë¹„ìš©ì´ í° ê°’ì„ ë©”ëª¨ì´ì œì´ì…˜
- **ì‚¬ìš© ì‹œê¸°**: 
  - ë³µì¡í•œ ê³„ì‚° ê²°ê³¼ë¥¼ ìºì‹±í•  ë•Œ
  - ê°ì²´ë‚˜ ë°°ì—´ì„ ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•  ë•Œ
- **ì£¼ì˜ì‚¬í•­**: ëª¨ë“  ê³„ì‚°ì„ useMemoë¡œ ê°ìŒ€ í•„ìš”ëŠ” ì—†ìŒ (ê°„ë‹¨í•œ ê³„ì‚°ì€ ì˜¤íˆë ¤ ì˜¤ë²„í—¤ë“œ)

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ë³µì¡í•œ ê³„ì‚° ë©”ëª¨ì´ì œì´ì…˜
const total = useMemo(() => {
  return cart.reduce((sum, item) => {
    const discount = getMaxDiscount(item);
    return sum + item.product.price * item.quantity * (1 - discount);
  }, 0);
}, [cart]); // cartê°€ ë³€ê²½ë  ë•Œë§Œ ì¬ê³„ì‚°

// âŒ ë‚˜ìœ ì˜ˆ: ê°„ë‹¨í•œ ê³„ì‚°ë„ useMemo ì‚¬ìš© (ë¶ˆí•„ìš”)
const double = useMemo(() => count * 2, [count]); // ì˜¤ë²„í—¤ë“œë§Œ ì¦ê°€

// âœ… ì¢‹ì€ ì˜ˆ: ê°„ë‹¨í•œ ê³„ì‚°ì€ ê·¸ëƒ¥ ê³„ì‚°
const double = count * 2; // ì¶©ë¶„íˆ ë¹ ë¦„
```

#### 1.2 Custom Hook ì„¤ê³„ ì›ì¹™

**ë‹¨ì¼ ì±…ì„ ì›ì¹™ (Single Responsibility Principle)**
- í•˜ë‚˜ì˜ Hookì€ í•˜ë‚˜ì˜ ê´€ì‹¬ì‚¬ë§Œ ì²˜ë¦¬í•´ì•¼ í•¨
- ì˜ˆ: `useCart`ëŠ” ì¥ë°”êµ¬ë‹ˆ ê´€ë¦¬ë§Œ, `useProduct`ëŠ” ìƒí’ˆ ê´€ë¦¬ë§Œ

```typescript
// âŒ ë‚˜ìœ ì˜ˆ: ì—¬ëŸ¬ ì±…ì„ì„ ê°€ì§„ Hook
const useShop = () => {
  const [cart, setCart] = useState([]);
  const [products, setProducts] = useState([]);
  const [coupons, setCoupons] = useState([]);
  // ì¥ë°”êµ¬ë‹ˆ, ìƒí’ˆ, ì¿ í°ì„ ëª¨ë‘ ê´€ë¦¬ â†’ ì±…ì„ì´ ë„ˆë¬´ ë§ìŒ!
};

// âœ… ì¢‹ì€ ì˜ˆ: ê°ê°ì˜ ì±…ì„ì„ ë¶„ë¦¬
const useCart = () => {
  const [cart, setCart] = useState([]);
  // ì¥ë°”êµ¬ë‹ˆ ê´€ë¦¬ë§Œ ë‹´ë‹¹
};

const useProducts = () => {
  const [products, setProducts] = useState([]);
  // ìƒí’ˆ ê´€ë¦¬ë§Œ ë‹´ë‹¹
};

const useCoupons = () => {
  const [coupons, setCoupons] = useState([]);
  // ì¿ í° ê´€ë¦¬ë§Œ ë‹´ë‹¹
};
```

**ì¬ì‚¬ìš©ì„± (Reusability)**
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ Hookìœ¼ë¡œ ì¶”ì¶œí•˜ì—¬ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¬ì‚¬ìš©
- ì»´í¬ë„ŒíŠ¸ëŠ” UI ë Œë”ë§ì—ë§Œ ì§‘ì¤‘

```typescript
// âŒ ë‚˜ìœ ì˜ˆ: ì»´í¬ë„ŒíŠ¸ì— ëª¨ë“  ë¡œì§ì´ í¬í•¨
const CartPage = () => {
  const [cart, setCart] = useState([]);
  
  const addItem = (item) => {
    // ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§...
    if (cart.length >= 10) return;
    if (item.stock <= 0) return;
    setCart(prev => [...prev, item]);
  };
  
  const removeItem = (id) => {
    // ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§...
    setCart(prev => prev.filter(item => item.id !== id));
  };
  
  // ì´ ë¡œì§ì„ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ ì‚¬ìš©í•˜ë ¤ë©´ ë³µì‚¬í•´ì•¼ í•¨ â†’ ì¬ì‚¬ìš© ë¶ˆê°€
};

// âœ… ì¢‹ì€ ì˜ˆ: Hookìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì¬ì‚¬ìš© ê°€ëŠ¥
const useCart = () => {
  const [cart, setCart] = useState([]);
  
  const addItem = useCallback((item) => {
    if (cart.length >= 10) return;
    if (item.stock <= 0) return;
    setCart(prev => [...prev, item]);
  }, [cart]);
  
  const removeItem = useCallback((id) => {
    setCart(prev => prev.filter(item => item.id !== id));
  }, []);
  
  return { cart, addItem, removeItem };
};

// ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥
const CartPage = () => {
  const { cart, addItem, removeItem } = useCart();
  // UI ë Œë”ë§ë§Œ ë‹´ë‹¹
};

const CheckoutPage = () => {
  const { cart, removeItem } = useCart(); // ê°™ì€ Hook ì¬ì‚¬ìš©
  // UI ë Œë”ë§ë§Œ ë‹´ë‹¹
};
```

**í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„± (Testability)**
- Hookì„ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„
- ì™¸ë¶€ ì˜ì¡´ì„±ì„ ìµœì†Œí™”í•˜ê³  ìˆœìˆ˜í•¨ìˆ˜ë¡œ ë¶„ë¦¬

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ êµ¬ì¡°
// ê³„ì‚° ë¡œì§ì€ ìˆœìˆ˜í•¨ìˆ˜ë¡œ ë¶„ë¦¬
export const calculateCartTotal = (cart: CartItem[]): number => {
  return cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
};

// Hookì€ ìƒíƒœ ê´€ë¦¬ë§Œ ë‹´ë‹¹
export const useCart = () => {
  const [cart, setCart] = useState<CartItem[]>([]);
  const total = useMemo(() => calculateCartTotal(cart), [cart]);
  return { cart, total };
};

// í…ŒìŠ¤íŠ¸: ìˆœìˆ˜í•¨ìˆ˜ëŠ” ì‰½ê²Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
test('calculateCartTotal', () => {
  const cart = [
    { product: { price: 1000 }, quantity: 2 },
    { product: { price: 2000 }, quantity: 1 }
  ];
  expect(calculateCartTotal(cart)).toBe(4000);
});
```

#### 1.3 ì‹¤ì „ ì˜ˆì œ: ì»´í¬ë„ŒíŠ¸ì—ì„œ Hookìœ¼ë¡œ ë¶„ë¦¬í•˜ê¸°

**Before: ëª¨ë“  ë¡œì§ì´ ì»´í¬ë„ŒíŠ¸ì— í¬í•¨ëœ ê²½ìš°**

```typescript
// âŒ ë‚˜ìœ ì˜ˆ: ê±°ëŒ€í•œ ì»´í¬ë„ŒíŠ¸
const Cart = () => {
  const [cart, setCart] = useState([]);
  const [total, setTotal] = useState(0);
  const [selectedCoupon, setSelectedCoupon] = useState(null);
  
  // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì»´í¬ë„ŒíŠ¸ì— ì§ì ‘ í¬í•¨
  const addItem = (item) => {
    if (cart.length >= 10) {
      alert('ì¥ë°”êµ¬ë‹ˆê°€ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤');
      return;
    }
    if (item.stock <= 0) {
      alert('ì¬ê³ ê°€ ì—†ìŠµë‹ˆë‹¤');
      return;
    }
    setCart(prev => [...prev, item]);
  };
  
  // ê³„ì‚° ë¡œì§ë„ ì»´í¬ë„ŒíŠ¸ì— í¬í•¨
  useEffect(() => {
    let sum = 0;
    cart.forEach(item => {
      sum += item.product.price * item.quantity;
    });
    
    if (selectedCoupon) {
      if (selectedCoupon.discountType === 'amount') {
        sum -= selectedCoupon.discountValue;
      } else {
        sum = sum * (1 - selectedCoupon.discountValue / 100);
      }
    }
    
    setTotal(sum);
  }, [cart, selectedCoupon]);
  
  // UI ë Œë”ë§
  return (
    <div>
      {cart.map(item => (
        <div key={item.id}>{item.product.name}</div>
      ))}
      <div>ì´ì•¡: {total}ì›</div>
    </div>
  );
};
```

**After: Hookìœ¼ë¡œ ë¶„ë¦¬í•œ ê²½ìš°**

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: Hookìœ¼ë¡œ ë¶„ë¦¬
// 1. ê³„ì‚° ë¡œì§ì„ ìˆœìˆ˜í•¨ìˆ˜ë¡œ ë¶„ë¦¬
export const calculateCartTotal = (cart: CartItem[]): number => {
  return cart.reduce((sum, item) => 
    sum + item.product.price * item.quantity, 0
  );
};

export const applyCoupon = (
  total: number, 
  coupon: Coupon | null
): number => {
  if (!coupon) return total;
  
  if (coupon.discountType === 'amount') {
    return Math.max(0, total - coupon.discountValue);
  } else {
    return total * (1 - coupon.discountValue / 100);
  }
};

// 2. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ Hookìœ¼ë¡œ ë¶„ë¦¬
export const useCart = () => {
  const [cart, setCart] = useState<CartItem[]>([]);
  const [selectedCoupon, setSelectedCoupon] = useState<Coupon | null>(null);
  
  const addItem = useCallback((item: Product) => {
    if (cart.length >= 10) {
      alert('ì¥ë°”êµ¬ë‹ˆê°€ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤');
      return;
    }
    if (item.stock <= 0) {
      alert('ì¬ê³ ê°€ ì—†ìŠµë‹ˆë‹¤');
      return;
    }
    setCart(prev => [...prev, { product: item, quantity: 1 }]);
  }, [cart]);
  
  // ê³„ì‚°ì€ ìˆœìˆ˜í•¨ìˆ˜ ì‚¬ìš©
  const total = useMemo(() => {
    const subtotal = calculateCartTotal(cart);
    return applyCoupon(subtotal, selectedCoupon);
  }, [cart, selectedCoupon]);
  
  return { 
    cart, 
    selectedCoupon,
    addItem, 
    setSelectedCoupon,
    total 
  };
};

// 3. ì»´í¬ë„ŒíŠ¸ëŠ” UI ë Œë”ë§ë§Œ ë‹´ë‹¹
const Cart = () => {
  const { cart, total, addItem } = useCart();
  
  return (
    <div>
      {cart.map(item => (
        <div key={item.id}>{item.product.name}</div>
      ))}
      <div>ì´ì•¡: {total}ì›</div>
    </div>
  );
};
```

---

### 2. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì´í•´

#### 2.1 ìˆœìˆ˜í•¨ìˆ˜ (Pure Functions)ë€?

**ìˆœìˆ˜í•¨ìˆ˜ì˜ íŠ¹ì§•:**
1. **ê°™ì€ ì…ë ¥ì— í•­ìƒ ê°™ì€ ì¶œë ¥**: í•¨ìˆ˜ë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•´ë„ ê°™ì€ ê²°ê³¼
2. **ë¶€ìˆ˜ íš¨ê³¼(side effect) ì—†ìŒ**: í•¨ìˆ˜ ì™¸ë¶€ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•ŠìŒ
3. **ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ**: ì „ì—­ ë³€ìˆ˜ë‚˜ ì™¸ë¶€ ìƒíƒœë¥¼ ì½ì§€ ì•ŠìŒ

**ìˆœìˆ˜í•¨ìˆ˜ê°€ ì•„ë‹Œ ì˜ˆì‹œ:**

```typescript
// âŒ ë‚˜ìœ ì˜ˆ 1: ì™¸ë¶€ ë³€ìˆ˜ì— ì˜ì¡´
let discountRate = 0.1; // ì „ì—­ ë³€ìˆ˜
const calculatePrice = (price: number) => {
  return price * (1 - discountRate); // ì™¸ë¶€ ë³€ìˆ˜ì— ì˜ì¡´
};
// discountRateê°€ ë³€ê²½ë˜ë©´ ê°™ì€ ì…ë ¥(price)ì— ë‹¤ë¥¸ ì¶œë ¥ì´ ë‚˜ì˜´

// âŒ ë‚˜ìœ ì˜ˆ 2: ë¶€ìˆ˜ íš¨ê³¼ ë°œìƒ
const addToCart = (item: Product) => {
  cart.push(item); // ì™¸ë¶€ ë°°ì—´ì„ ì§ì ‘ ìˆ˜ì • (ë¶€ìˆ˜ íš¨ê³¼)
  console.log('ì•„ì´í…œ ì¶”ê°€ë¨'); // ì½˜ì†” ì¶œë ¥ (ë¶€ìˆ˜ íš¨ê³¼)
  return cart.length;
};

// âŒ ë‚˜ìœ ì˜ˆ 3: ì™¸ë¶€ ìƒíƒœë¥¼ ì½ìŒ
const getTotal = () => {
  return globalCart.reduce((sum, item) => sum + item.price, 0);
  // ì „ì—­ ë³€ìˆ˜ë¥¼ ì½ìŒ â†’ ìˆœìˆ˜í•¨ìˆ˜ ì•„ë‹˜
};
```

**ìˆœìˆ˜í•¨ìˆ˜ ì˜ˆì‹œ:**

```typescript
// âœ… ì¢‹ì€ ì˜ˆ 1: ëª¨ë“  ì…ë ¥ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ìŒ
const calculatePrice = (price: number, discountRate: number): number => {
  return price * (1 - discountRate);
};
// ê°™ì€ ì…ë ¥(price, discountRate)ì— í•­ìƒ ê°™ì€ ì¶œë ¥

// âœ… ì¢‹ì€ ì˜ˆ 2: ë¶ˆë³€ì„± ìœ ì§€
const addToCart = (cart: CartItem[], item: Product): CartItem[] => {
  return [...cart, { product: item, quantity: 1 }]; // ìƒˆ ë°°ì—´ ë°˜í™˜
  // ê¸°ì¡´ ë°°ì—´ì„ ìˆ˜ì •í•˜ì§€ ì•ŠìŒ
};

// âœ… ì¢‹ì€ ì˜ˆ 3: ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
const calculateTotal = (cart: CartItem[]): number => {
  return cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
};
// íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ë°ì´í„°ë§Œ ì‚¬ìš©
```

#### 2.2 ë¶ˆë³€ì„± (Immutability)ì´ë€?

**ë¶ˆë³€ì„±ì˜ ì˜ë¯¸:**
- ë°ì´í„°ë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ê°ì²´/ë°°ì—´ì„ ìƒì„±
- Reactì˜ ìƒíƒœ ì—…ë°ì´íŠ¸ ì›ì¹™ê³¼ ì¼ì¹˜
- ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì½”ë“œ ì‘ì„± ê°€ëŠ¥

**ë¶ˆë³€ì„±ì„ ì§€í‚¤ì§€ ì•Šì€ ì˜ˆì‹œ:**

```typescript
// âŒ ë‚˜ìœ ì˜ˆ: ê°ì²´ë¥¼ ì§ì ‘ ìˆ˜ì •
const updateProduct = (product: Product, newPrice: number) => {
  product.price = newPrice; // ì§ì ‘ ìˆ˜ì •
  return product;
};
// ì›ë³¸ ê°ì²´ê°€ ë³€ê²½ë¨ â†’ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ë²„ê·¸ ë°œìƒ ê°€ëŠ¥

// âŒ ë‚˜ìœ ì˜ˆ: ë°°ì—´ì„ ì§ì ‘ ìˆ˜ì •
const addItem = (cart: CartItem[], item: Product) => {
  cart.push({ product: item, quantity: 1 }); // ì§ì ‘ ìˆ˜ì •
  return cart;
};
// ì›ë³¸ ë°°ì—´ì´ ë³€ê²½ë¨
```

**ë¶ˆë³€ì„±ì„ ì§€í‚¨ ì˜ˆì‹œ:**

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ìƒˆ ê°ì²´ ìƒì„±
const updateProduct = (product: Product, newPrice: number): Product => {
  return { ...product, price: newPrice }; // ìƒˆ ê°ì²´ ë°˜í™˜
};
// ì›ë³¸ ê°ì²´ëŠ” ë³€ê²½ë˜ì§€ ì•ŠìŒ

// âœ… ì¢‹ì€ ì˜ˆ: ìƒˆ ë°°ì—´ ìƒì„±
const addItem = (cart: CartItem[], item: Product): CartItem[] => {
  return [...cart, { product: item, quantity: 1 }]; // ìƒˆ ë°°ì—´ ë°˜í™˜
};
// ì›ë³¸ ë°°ì—´ì€ ë³€ê²½ë˜ì§€ ì•ŠìŒ

// âœ… ì¢‹ì€ ì˜ˆ: ì¤‘ì²©ëœ ê°ì²´ ì—…ë°ì´íŠ¸
const updateCartItemQuantity = (
  cart: CartItem[], 
  itemId: string, 
  quantity: number
): CartItem[] => {
  return cart.map(item => 
    item.id === itemId 
      ? { ...item, quantity } // ìƒˆ ê°ì²´ ìƒì„±
      : item
  );
};
```

#### 2.3 ìˆœìˆ˜í•¨ìˆ˜ ì‘ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸

ì‘ì„±í•œ í•¨ìˆ˜ê°€ ìˆœìˆ˜í•¨ìˆ˜ì¸ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•:

1. **ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì½ëŠ”ê°€?**
   ```typescript
   // âŒ ë‚˜ìœ ì˜ˆ
   let globalCount = 0;
   const increment = () => globalCount++; // ì™¸ë¶€ ë³€ìˆ˜ ì½ê¸°/ìˆ˜ì •
   
   // âœ… ì¢‹ì€ ì˜ˆ
   const increment = (count: number) => count + 1; // íŒŒë¼ë¯¸í„°ë§Œ ì‚¬ìš©
   ```

2. **ì™¸ë¶€ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ”ê°€?**
   ```typescript
   // âŒ ë‚˜ìœ ì˜ˆ
   const addItem = (item: Product) => {
     cart.push(item); // ì™¸ë¶€ ë°°ì—´ ìˆ˜ì •
   };
   
   // âœ… ì¢‹ì€ ì˜ˆ
   const addItem = (cart: CartItem[], item: Product) => {
     return [...cart, item]; // ìƒˆ ë°°ì—´ ë°˜í™˜
   };
   ```

3. **ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ë°œìƒì‹œí‚¤ëŠ”ê°€?**
   ```typescript
   // âŒ ë‚˜ìœ ì˜ˆ
   const calculateTotal = (cart: CartItem[]) => {
     console.log('ê³„ì‚° ì¤‘...'); // ì½˜ì†” ì¶œë ¥ (ë¶€ìˆ˜ íš¨ê³¼)
     return cart.reduce((sum, item) => sum + item.price, 0);
   };
   
   // âœ… ì¢‹ì€ ì˜ˆ
   const calculateTotal = (cart: CartItem[]): number => {
     return cart.reduce((sum, item) => sum + item.price, 0);
   };
   ```

4. **ê°™ì€ ì…ë ¥ì— í•­ìƒ ê°™ì€ ì¶œë ¥ì¸ê°€?**
   ```typescript
   // âŒ ë‚˜ìœ ì˜ˆ
   const getRandomPrice = (price: number) => {
     return price * Math.random(); // ë§¤ë²ˆ ë‹¤ë¥¸ ê²°ê³¼
   };
   
   // âœ… ì¢‹ì€ ì˜ˆ
   const applyDiscount = (price: number, rate: number): number => {
     return price * (1 - rate); // í•­ìƒ ê°™ì€ ê²°ê³¼
   };
   ```

---

### 3. ì•¡ì…˜ê³¼ ìˆœìˆ˜í•¨ìˆ˜ì˜ ë¶„ë¦¬

#### 3.1 ì•¡ì…˜(Action)ê³¼ ìˆœìˆ˜í•¨ìˆ˜ì˜ ì°¨ì´

**ì•¡ì…˜ (Actions):**
- ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
- ë¶€ìˆ˜ íš¨ê³¼(side effect)ê°€ ìˆìŒ
- ì˜ˆ: `setState`, `localStorage.setItem`, API í˜¸ì¶œ

**ìˆœìˆ˜í•¨ìˆ˜ (Pure Functions):**
- ê³„ì‚°ë§Œ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜
- ë¶€ìˆ˜ íš¨ê³¼ê°€ ì—†ìŒ
- ì˜ˆ: `calculateTotal`, `formatPrice`, `getDiscount`

#### 3.2 ì™œ ë¶„ë¦¬í•´ì•¼ í•˜ëŠ”ê°€?

1. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ìˆœìˆ˜í•¨ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›€
2. **ì¬ì‚¬ìš©ì„±**: ìˆœìˆ˜í•¨ìˆ˜ëŠ” ì–´ë””ì„œë“  ì¬ì‚¬ìš© ê°€ëŠ¥
3. **ì˜ˆì¸¡ ê°€ëŠ¥ì„±**: ìˆœìˆ˜í•¨ìˆ˜ëŠ” ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë™ì‘
4. **ë””ë²„ê¹… ìš©ì´ì„±**: ë¬¸ì œ ë°œìƒ ì‹œ ì›ì¸ íŒŒì•…ì´ ì‰¬ì›€

#### 3.3 ë¶„ë¦¬ ì „ëµ

**1ë‹¨ê³„: ê³„ì‚° ë¡œì§ì„ ìˆœìˆ˜í•¨ìˆ˜ë¡œ ë¶„ë¦¬**

```typescript
// âœ… ê³„ì‚° ë¡œì§ì€ ìˆœìˆ˜í•¨ìˆ˜ë¡œ
export const calculateCartTotal = (cart: CartItem[]): number => {
  return cart.reduce((sum, item) => 
    sum + item.product.price * item.quantity, 0
  );
};

export const getMaxApplicableDiscount = (
  item: CartItem, 
  cart: CartItem[]
): number => {
  const { discounts } = item.product;
  const { quantity } = item;
  
  // í• ì¸ìœ¨ ê³„ì‚°
  const baseDiscount = discounts.reduce((max, discount) => {
    return quantity >= discount.quantity && discount.rate > max 
      ? discount.rate 
      : max;
  }, 0);
  
  // ëŒ€ëŸ‰ êµ¬ë§¤ ì¶”ê°€ í• ì¸
  const hasBulkPurchase = cart.some(cartItem => cartItem.quantity >= 10);
  if (hasBulkPurchase) {
    return Math.min(baseDiscount + 0.05, 0.5);
  }
  
  return baseDiscount;
};

export const applyCoupon = (
  total: number, 
  coupon: Coupon | null
): number => {
  if (!coupon) return total;
  
  if (coupon.discountType === 'amount') {
    return Math.max(0, total - coupon.discountValue);
  } else {
    return total * (1 - coupon.discountValue / 100);
  }
};
```

**2ë‹¨ê³„: ìƒíƒœ ë³€ê²½ ë¡œì§ì„ Hookì˜ ì•¡ì…˜ìœ¼ë¡œ ë¶„ë¦¬**

```typescript
// âœ… ìƒíƒœ ë³€ê²½ì€ Hookì˜ ì•¡ì…˜ìœ¼ë¡œ
export const useCart = () => {
  const [cart, setCart] = useState<CartItem[]>([]);
  const [selectedCoupon, setSelectedCoupon] = useState<Coupon | null>(null);
  
  // ì•¡ì…˜: ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ë“¤
  const addToCart = useCallback((product: Product) => {
    setCart(prev => [...prev, { product, quantity: 1 }]);
  }, []);
  
  const removeFromCart = useCallback((productId: string) => {
    setCart(prev => prev.filter(item => item.product.id !== productId));
  }, []);
  
  const updateQuantity = useCallback((productId: string, quantity: number) => {
    setCart(prev => prev.map(item =>
      item.product.id === productId
        ? { ...item, quantity }
        : item
    ));
  }, []);
  
  // ê³„ì‚°ì€ ìˆœìˆ˜í•¨ìˆ˜ ì‚¬ìš©
  const total = useMemo(() => {
    const subtotal = calculateCartTotal(cart);
    return applyCoupon(subtotal, selectedCoupon);
  }, [cart, selectedCoupon]);
  
  return {
    cart,
    selectedCoupon,
    total,
    addToCart,      // ì•¡ì…˜
    removeFromCart,  // ì•¡ì…˜
    updateQuantity,  // ì•¡ì…˜
    setSelectedCoupon // ì•¡ì…˜
  };
};
```

**3ë‹¨ê³„: ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©**

```typescript
// âœ… ì»´í¬ë„ŒíŠ¸ëŠ” Hookê³¼ ìˆœìˆ˜í•¨ìˆ˜ ì‚¬ìš©
const CartView = () => {
  const { 
    cart, 
    total, 
    addToCart, 
    removeFromCart 
  } = useCart();
  
  // UI ë Œë”ë§ë§Œ ë‹´ë‹¹
  return (
    <div>
      {cart.map(item => (
        <CartItemView 
          key={item.product.id}
          item={item}
          onRemove={() => removeFromCart(item.product.id)}
        />
      ))}
      <div>ì´ì•¡: {formatPrice(total)}</div>
    </div>
  );
};
```

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì›ì¹™

### 1. ì—”í‹°í‹° ê¸°ë°˜ ë¶„ë¦¬

#### 1.1 ì—”í‹°í‹°ë€ ë¬´ì—‡ì¸ê°€?

**ì—”í‹°í‹°(Entity)ì˜ ì •ì˜:**
- ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ì˜ í•µì‹¬ ë°ì´í„° ëª¨ë¸
- ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ ê°œë…ì„ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„° êµ¬ì¡°
- ì˜ˆ: ì‡¼í•‘ëª° ë„ë©”ì¸ì˜ `Product`, `Cart`, `Coupon`

**ì´ í”„ë¡œì íŠ¸ì˜ ì—”í‹°í‹°:**

```typescript
// src/types.ts
export interface Product {
  id: string;
  name: string;
  price: number;
  stock: number;
  discounts: Discount[];
}

export interface CartItem {
  product: Product;
  quantity: number;
}

export interface Coupon {
  name: string;
  code: string;
  discountType: 'amount' | 'percentage';
  discountValue: number;
}
```

#### 1.2 ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒ vs ë‹¤ë£¨ì§€ ì•ŠëŠ” ê²ƒ

**ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì˜ íŠ¹ì§•:**
- íŠ¹ì • ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ë°ì´í„° êµ¬ì¡°ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•¨
- í•´ë‹¹ ë„ë©”ì¸ì— íŠ¹í™”ëœ ë¡œì§
- ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ì¬ì‚¬ìš©í•˜ê¸° ì–´ë ¤ì›€

**ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒ ì˜ˆì‹œ:**

```typescript
// âœ… ìƒíƒœ: ì—”í‹°í‹° ë°ì´í„°ë¥¼ ì €ì¥
const [cart, setCart] = useState<CartItem[]>([]);
const [products, setProducts] = useState<Product[]>([]);
const [coupons, setCoupons] = useState<Coupon[]>([]);

// âœ… ì»´í¬ë„ŒíŠ¸: ì—”í‹°í‹°ë¥¼ propsë¡œ ë°›ìŒ
const ProductCard = ({ product }: { product: Product }) => {
  // Productì˜ êµ¬ì¡°ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•¨ (id, name, price, stock, discounts)
  return (
    <div>
      <h3>{product.name}</h3>
      <p>{product.price}ì›</p>
      {product.discounts.map(discount => (
        <span key={discount.quantity}>
          {discount.quantity}ê°œ ì´ìƒ êµ¬ë§¤ì‹œ {discount.rate * 100}% í• ì¸
        </span>
      ))}
    </div>
  );
};

// âœ… Hook: ì—”í‹°í‹°ë¥¼ ê´€ë¦¬
const useCart = () => {
  const [cart, setCart] = useState<CartItem[]>([]);
  // CartItem êµ¬ì¡°ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•¨
  const addItem = (product: Product) => {
    setCart(prev => [...prev, { product, quantity: 1 }]);
  };
  return { cart, addItem };
};

// âœ… í•¨ìˆ˜: ì—”í‹°í‹°ë¥¼ ê³„ì‚°
const calculateCartTotal = (cart: CartItem[]): number => {
  // CartItem êµ¬ì¡°ë¥¼ ì•Œê³  ìˆì–´ì•¼ í•¨
  return cart.reduce((sum, item) => 
    sum + item.product.price * item.quantity, 0
  );
};
```

**ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ì§€ ì•ŠëŠ” ê²ƒì˜ íŠ¹ì§•:**
- ë²”ìš©ì ì´ê³  ë„ë©”ì¸ì— ë…ë¦½ì 
- ì–´ë–¤ í”„ë¡œì íŠ¸ì—ì„œë„ ì¬ì‚¬ìš© ê°€ëŠ¥
- ë°ì´í„° êµ¬ì¡°ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ

**ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ì§€ ì•ŠëŠ” ê²ƒ ì˜ˆì‹œ:**

```typescript
// âœ… ìƒíƒœ: UI ìƒíƒœ (ì—”í‹°í‹°ì™€ ë¬´ê´€)
const [isShowPopup, setIsShowPopup] = useState(false);
const [isLoading, setIsLoading] = useState(false);
const [theme, setTheme] = useState<'light' | 'dark'>('light');

// âœ… ì»´í¬ë„ŒíŠ¸: ë²”ìš© UI ì»´í¬ë„ŒíŠ¸
const Button = ({ 
  children, 
  onClick, 
  disabled 
}: { 
  children: React.ReactNode;
  onClick?: () => void;
  disabled?: boolean;
}) => {
  // Productë‚˜ Cart ê°™ì€ íŠ¹ì • ì—”í‹°í‹°ë¥¼ ëª¨ë¦„
  // ì–´ë–¤ ë‚´ìš©ì´ë“  í‘œì‹œ ê°€ëŠ¥
  return (
    <button onClick={onClick} disabled={disabled}>
      {children}
    </button>
  );
};

// âœ… Hook: ë²”ìš© Hook
const useToggle = (initial = false) => {
  const [value, setValue] = useState(initial);
  const toggle = () => setValue(prev => !prev);
  return [value, toggle] as const;
};
// ì–´ë–¤ ë„ë©”ì¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥

// âœ… í•¨ìˆ˜: ë²”ìš© ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
const capitalize = (str: string): string => {
  return str.charAt(0).toUpperCase() + str.slice(1);
};
// ì–´ë–¤ í”„ë¡œì íŠ¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥

const formatDate = (date: Date): string => {
  return date.toLocaleDateString('ko-KR');
};
// ì–´ë–¤ í”„ë¡œì íŠ¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥
```

#### 1.3 êµ¬ë¶„í•˜ëŠ” ì´ìœ 

1. **ì¬ì‚¬ìš©ì„±**: ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ì§€ ì•ŠëŠ” ì½”ë“œëŠ” ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œë„ ì¬ì‚¬ìš© ê°€ëŠ¥
2. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ì—”í‹°í‹° ë¡œì§ê³¼ UI ë¡œì§ì„ ë¶„ë¦¬í•˜ë©´ í…ŒìŠ¤íŠ¸ê°€ ì‰¬ì›€
3. **ìœ ì§€ë³´ìˆ˜ì„±**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë³€ê²½ ì‹œ ì˜í–¥ ë²”ìœ„ë¥¼ ëª…í™•íˆ íŒŒì•… ê°€ëŠ¥
4. **ê³„ì¸µ êµ¬ì¡°**: entities â†’ features â†’ UI ìˆœì„œë¡œ ì˜ì¡´ì„± ê´€ë¦¬

#### 1.4 ì‹¤ì „ ì˜ˆì œ: ì½”ë“œ ë¶„ì„í•˜ê¸°

**ê¸°ì¡´ ì½”ë“œì—ì„œ ì—”í‹°í‹° ê´€ë ¨ ì½”ë“œ ì°¾ê¸°:**

```typescript
// origin/App.tsxì—ì„œ ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ëŠ” ì½”ë“œ ì°¾ê¸°
const App = () => {
  // âœ… ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ëŠ” ìƒíƒœ
  const [products, setProducts] = useState<Product[]>([]);
  const [cart, setCart] = useState<CartItem[]>([]);
  const [coupons, setCoupons] = useState<Coupon[]>([]);
  
  // âŒ ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ì§€ ì•ŠëŠ” ìƒíƒœ (UI ìƒíƒœ)
  const [isAdmin, setIsAdmin] = useState(false);
  const [isShowPopup, setIsShowPopup] = useState(false);
  
  // âœ… ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ëŠ” í•¨ìˆ˜
  const calculateCartTotal = () => {
    // CartItem êµ¬ì¡°ë¥¼ ì•Œê³  ìˆìŒ
    return cart.reduce((sum, item) => 
      sum + item.product.price * item.quantity, 0
    );
  };
  
  // âŒ ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ì§€ ì•ŠëŠ” í•¨ìˆ˜ (ë²”ìš© í•¨ìˆ˜)
  const formatPrice = (price: number): string => {
    return `â‚©${price.toLocaleString()}`;
  };
};
```

---

### 2. ê³„ì¸µ êµ¬ì¡° ì´í•´

#### 2.1 ê¶Œì¥ ê³„ì¸µ êµ¬ì¡°

```
entities (ë„ë©”ì¸ ëª¨ë¸)
  â†“
features (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
  â†“
UI (ì»´í¬ë„ŒíŠ¸)
```

**ì˜ì¡´ì„± ë°©í–¥:**
- ìƒìœ„ ê³„ì¸µì´ í•˜ìœ„ ê³„ì¸µì— ì˜ì¡´
- í•˜ìœ„ ê³„ì¸µì€ ìƒìœ„ ê³„ì¸µì„ ëª¨ë¦„
- ìˆœí™˜ ì˜ì¡´ì„± ì—†ìŒ

#### 2.2 ê° ê³„ì¸µì˜ ì±…ì„

**Entities ê³„ì¸µ (ë„ë©”ì¸ ëª¨ë¸):**
- **ì±…ì„**: ë„ë©”ì¸ ëª¨ë¸ ì •ì˜, íƒ€ì… ì •ì˜, ìˆœìˆ˜í•œ ë°ì´í„° êµ¬ì¡°
- **ìœ„ì¹˜**: `src/basic/models/` ë˜ëŠ” `src/basic/entities/`
- **ì˜ˆì‹œ**:

```typescript
// models/cart.ts
export interface CartItem {
  id: string;
  product: Product;
  quantity: number;
}

// models/product.ts
export interface Product {
  id: string;
  name: string;
  price: number;
  stock: number;
  discounts: Discount[];
}

// models/coupon.ts
export interface Coupon {
  name: string;
  code: string;
  discountType: 'amount' | 'percentage';
  discountValue: number;
}
```

**Features ê³„ì¸µ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§):**
- **ì±…ì„**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, Custom Hook, ìˆœìˆ˜í•¨ìˆ˜ (ê³„ì‚° ë¡œì§)
- **ìœ„ì¹˜**: `src/basic/hooks/`, `src/basic/utils/`
- **ì˜ˆì‹œ**:

```typescript
// hooks/useCart.ts
import { CartItem } from '../models/cart';
import { Product } from '../models/product';
import { calculateCartTotal } from '../utils/calculations';

export const useCart = () => {
  const [cart, setCart] = useState<CartItem[]>([]);
  
  const addToCart = useCallback((product: Product) => {
    setCart(prev => [...prev, { product, quantity: 1 }]);
  }, []);
  
  const total = useMemo(() => calculateCartTotal(cart), [cart]);
  
  return { cart, addToCart, total };
};

// utils/calculations.ts
import { CartItem } from '../models/cart';

export const calculateCartTotal = (cart: CartItem[]): number => {
  return cart.reduce((sum, item) => 
    sum + item.product.price * item.quantity, 0
  );
};
```

**UI ê³„ì¸µ (ì»´í¬ë„ŒíŠ¸):**
- **ì±…ì„**: ì»´í¬ë„ŒíŠ¸, í”„ë ˆì  í…Œì´ì…˜ ë¡œì§, ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì²˜ë¦¬
- **ìœ„ì¹˜**: `src/basic/components/`
- **ì˜ˆì‹œ**:

```typescript
// components/CartView.tsx
import { useCart } from '../hooks/useCart';
import { CartItemView } from './CartItemView';

export const CartView = () => {
  const { cart, total, addToCart, removeFromCart } = useCart();
  
  return (
    <div>
      <h2>ì¥ë°”êµ¬ë‹ˆ</h2>
      {cart.map(item => (
        <CartItemView
          key={item.product.id}
          item={item}
          onRemove={() => removeFromCart(item.product.id)}
        />
      ))}
      <div>ì´ì•¡: {total}ì›</div>
    </div>
  );
};

// components/CartItemView.tsx (ì—”í‹°í‹° ì»´í¬ë„ŒíŠ¸)
import { CartItem } from '../models/cart';

interface Props {
  item: CartItem;
  onRemove: () => void;
}

export const CartItemView = ({ item, onRemove }: Props) => {
  return (
    <div>
      <span>{item.product.name}</span>
      <span>ìˆ˜ëŸ‰: {item.quantity}</span>
      <button onClick={onRemove}>ì‚­ì œ</button>
    </div>
  );
};

// components/Button.tsx (UI ì»´í¬ë„ŒíŠ¸)
interface Props {
  children: React.ReactNode;
  onClick?: () => void;
  disabled?: boolean;
}

export const Button = ({ children, onClick, disabled }: Props) => {
  return (
    <button onClick={onClick} disabled={disabled}>
      {children}
    </button>
  );
};
```

#### 2.3 ì˜ì¡´ì„± ë°©í–¥ í™•ì¸

**âœ… ì˜¬ë°”ë¥¸ ì˜ì¡´ì„± ë°©í–¥:**

```typescript
// UI â†’ Features â†’ Entities (ì˜¬ë°”ë¥¸ ë°©í–¥)
// components/CartView.tsx
import { useCart } from '../hooks/useCart'; // Features ê³„ì¸µ ì‚¬ìš©

// hooks/useCart.ts
import { CartItem } from '../models/cart'; // Entities ê³„ì¸µ ì‚¬ìš©

// models/cart.ts
// ë‹¤ë¥¸ ê³„ì¸µì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
```

**âŒ ì˜ëª»ëœ ì˜ì¡´ì„± ë°©í–¥:**

```typescript
// âŒ Entitiesê°€ Featuresë¥¼ import (ìˆœí™˜ ì˜ì¡´ì„±)
// models/cart.ts
import { useCart } from '../hooks/useCart'; // ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”!

// âŒ Entitiesê°€ UIë¥¼ import
// models/cart.ts
import { CartView } from '../components/CartView'; // ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”!
```

#### 2.4 ì‹¤ì „ ì˜ˆì œ: ê³„ì¸µ êµ¬ì¡° ë§Œë“¤ê¸°

**1ë‹¨ê³„: Entities ê³„ì¸µ ìƒì„±**

```typescript
// models/product.ts
export interface Product {
  id: string;
  name: string;
  price: number;
  stock: number;
  discounts: Discount[];
}

// models/cart.ts
import { Product } from './product';

export interface CartItem {
  id: string;
  product: Product;
  quantity: number;
}

// models/coupon.ts
export interface Coupon {
  name: string;
  code: string;
  discountType: 'amount' | 'percentage';
  discountValue: number;
}
```

**2ë‹¨ê³„: Features ê³„ì¸µ ìƒì„±**

```typescript
// utils/calculations.ts
import { CartItem } from '../models/cart';
import { Coupon } from '../models/coupon';

export const calculateCartTotal = (cart: CartItem[]): number => {
  return cart.reduce((sum, item) => 
    sum + item.product.price * item.quantity, 0
  );
};

export const applyCoupon = (total: number, coupon: Coupon | null): number => {
  if (!coupon) return total;
  // í• ì¸ ì ìš© ë¡œì§...
};

// hooks/useCart.ts
import { useState, useCallback, useMemo } from 'react';
import { CartItem } from '../models/cart';
import { Product } from '../models/product';
import { calculateCartTotal, applyCoupon } from '../utils/calculations';

export const useCart = () => {
  const [cart, setCart] = useState<CartItem[]>([]);
  const [selectedCoupon, setSelectedCoupon] = useState<Coupon | null>(null);
  
  const addToCart = useCallback((product: Product) => {
    setCart(prev => [...prev, { product, quantity: 1 }]);
  }, []);
  
  const total = useMemo(() => {
    const subtotal = calculateCartTotal(cart);
    return applyCoupon(subtotal, selectedCoupon);
  }, [cart, selectedCoupon]);
  
  return { cart, addToCart, total, setSelectedCoupon };
};
```

**3ë‹¨ê³„: UI ê³„ì¸µ ìƒì„±**

```typescript
// components/CartView.tsx
import { useCart } from '../hooks/useCart';
import { CartItemView } from './CartItemView';
import { Button } from './ui/Button';

export const CartView = () => {
  const { cart, total, addToCart, removeFromCart } = useCart();
  
  return (
    <div>
      <h2>ì¥ë°”êµ¬ë‹ˆ</h2>
      {cart.map(item => (
        <CartItemView
          key={item.product.id}
          item={item}
          onRemove={() => removeFromCart(item.product.id)}
        />
      ))}
      <div>ì´ì•¡: {total}ì›</div>
      <Button onClick={() => console.log('ê²°ì œ')}>ê²°ì œí•˜ê¸°</Button>
    </div>
  );
};
```

---

## ğŸ“‹ ê¸°ë³¸ê³¼ì œ í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 1ë‹¨ê³„: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬

**ëª©í‘œ**: ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ Hookìœ¼ë¡œ ë¶„ë¦¬

**ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„°ê°€ ì•„ë‹Œ ë¡œì§ì„ Hookìœ¼ë¡œ ì´ë™í–ˆëŠ”ê°€?
- [ ] ê° Hookì´ ë‹¨ì¼ ì±…ì„ì„ ê°€ì§€ë„ë¡ ë¶„ë¦¬í–ˆëŠ”ê°€?
- [ ] Hook ê°„ ì˜ì¡´ì„±ì„ ìµœì†Œí™”í–ˆëŠ”ê°€?

**ì‹¤í–‰ ë°©ë²•:**

1. **origin/App.tsx ë¶„ì„**
   ```typescript
   // origin/App.tsxì—ì„œ ì°¾ì•„ì•¼ í•  ê²ƒë“¤:
   // - useStateë¡œ ê´€ë¦¬í•˜ëŠ” ìƒíƒœë“¤
   // - ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ë“¤ (addToCart, removeFromCart ë“±)
   // - ê³„ì‚°í•˜ëŠ” ë¡œì§ë“¤ (calculateCartTotal ë“±)
   ```

2. **Hookìœ¼ë¡œ ë¶„ë¦¬í•  ë¡œì§ ì‹ë³„**
   ```typescript
   // ì˜ˆì‹œ: ì¥ë°”êµ¬ë‹ˆ ê´€ë ¨ ë¡œì§ì„ useCart Hookìœ¼ë¡œ ë¶„ë¦¬
   // - cart ìƒíƒœ
   // - addToCart í•¨ìˆ˜
   // - removeFromCart í•¨ìˆ˜
   // - updateQuantity í•¨ìˆ˜
   ```

3. **Hook ìƒì„±**
   ```typescript
   // hooks/useCart.ts ìƒì„±
   export const useCart = () => {
     // origin/App.tsxì˜ ì¥ë°”êµ¬ë‹ˆ ê´€ë ¨ ë¡œì§ì„ ì—¬ê¸°ë¡œ ì´ë™
   };
   ```

4. **ì»´í¬ë„ŒíŠ¸ì—ì„œ Hook ì‚¬ìš©**
   ```typescript
   // basic/App.tsx
   const App = () => {
     const { cart, addToCart, removeFromCart } = useCart();
     // UI ë Œë”ë§ë§Œ ë‹´ë‹¹
   };
   ```

### 2ë‹¨ê³„: ìˆœìˆ˜í•¨ìˆ˜ ì‘ì„±

**ëª©í‘œ**: ëª¨ë“  ê³„ì‚° í•¨ìˆ˜ë¥¼ ìˆœìˆ˜í•¨ìˆ˜ë¡œ ì‘ì„±

**ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] ëª¨ë“  ê³„ì‚° í•¨ìˆ˜ê°€ ìˆœìˆ˜í•¨ìˆ˜ë¡œ ì‘ì„±ë˜ì—ˆëŠ”ê°€?
- [ ] í•¨ìˆ˜ê°€ ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ì„¤ê³„ë˜ì—ˆëŠ”ê°€?
- [ ] ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì œê±°í–ˆëŠ”ê°€?

**ì‹¤í–‰ ë°©ë²•:**

1. **ê³„ì‚° í•¨ìˆ˜ ì°¾ê¸°**
   ```typescript
   // origin/App.tsxì—ì„œ ì°¾ì•„ì•¼ í•  ê²ƒë“¤:
   // - calculateCartTotal
   // - calculateItemTotal
   // - getMaxApplicableDiscount
   // - applyCoupon
   ```

2. **ìˆœìˆ˜í•¨ìˆ˜ë¡œ ë³€í™˜**
   ```typescript
   // âŒ Before: ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ìˆë˜ ê³„ì‚° ë¡œì§
   const calculateCartTotal = () => {
     let sum = 0;
     cart.forEach(item => {
       sum += item.product.price * item.quantity;
     });
     return sum;
   };
   
   // âœ… After: ìˆœìˆ˜í•¨ìˆ˜ë¡œ ë¶„ë¦¬
   // utils/calculations.ts
   export const calculateCartTotal = (cart: CartItem[]): number => {
     return cart.reduce((sum, item) => 
       sum + item.product.price * item.quantity, 0
     );
   };
   ```

3. **í…ŒìŠ¤íŠ¸ ì‘ì„±**
   ```typescript
   // ìˆœìˆ˜í•¨ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›€
   test('calculateCartTotal', () => {
     const cart = [
       { product: { price: 1000 }, quantity: 2 },
       { product: { price: 2000 }, quantity: 1 }
     ];
     expect(calculateCartTotal(cart)).toBe(4000);
   });
   ```

### 3ë‹¨ê³„: ì—”í‹°í‹° í•¨ìˆ˜ ë¶„ë¦¬

**ëª©í‘œ**: íŠ¹ì • ì—”í‹°í‹°ë§Œ ë‹¤ë£¨ëŠ” í•¨ìˆ˜ë¥¼ ë³„ë„ ëª¨ë“ˆë¡œ ë¶„ë¦¬

**ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] íŠ¹ì • ì—”í‹°í‹°ë§Œ ë‹¤ë£¨ëŠ” í•¨ìˆ˜ë¥¼ ë³„ë„ ëª¨ë“ˆë¡œ ë¶„ë¦¬í–ˆëŠ”ê°€?
- [ ] ì—”í‹°í‹° ê´€ë ¨ í•¨ìˆ˜ì™€ ë²”ìš© í•¨ìˆ˜ë¥¼ êµ¬ë¶„í–ˆëŠ”ê°€?
- [ ] í•¨ìˆ˜ì˜ ì¬ì‚¬ìš©ì„±ì„ ê³ ë ¤í–ˆëŠ”ê°€?

**ì‹¤í–‰ ë°©ë²•:**

1. **ì—”í‹°í‹°ë³„ë¡œ í•¨ìˆ˜ ë¶„ë¥˜**
   ```typescript
   // Cart ì—”í‹°í‹° ê´€ë ¨ í•¨ìˆ˜
   // utils/cartCalculations.ts
   export const calculateCartTotal = (cart: CartItem[]): number => { ... };
   export const getCartItemCount = (cart: CartItem[]): number => { ... };
   
   // Product ì—”í‹°í‹° ê´€ë ¨ í•¨ìˆ˜
   // utils/productCalculations.ts
   export const getProductById = (products: Product[], id: string): Product | undefined => { ... };
   export const filterProducts = (products: Product[], keyword: string): Product[] => { ... };
   
   // ë²”ìš© í•¨ìˆ˜ (ì—”í‹°í‹°ì™€ ë¬´ê´€)
   // utils/formatters.ts
   export const formatPrice = (price: number): string => { ... };
   export const formatDate = (date: Date): string => { ... };
   ```

### 4ë‹¨ê³„: ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬

**ëª©í‘œ**: ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ UI ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬

**ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] ì—”í‹°í‹°ë¥¼ ë‹¤ë£¨ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ UI ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í–ˆëŠ”ê°€?
- [ ] í”„ë ˆì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸ì™€ ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ë¶„í–ˆëŠ”ê°€?
- [ ] ì»´í¬ë„ŒíŠ¸ì˜ ì¬ì‚¬ìš©ì„±ì„ í–¥ìƒì‹œì¼°ëŠ”ê°€?

**ì‹¤í–‰ ë°©ë²•:**

1. **ì—”í‹°í‹° ì»´í¬ë„ŒíŠ¸ ìƒì„±**
   ```typescript
   // components/ProductCard.tsx (ì—”í‹°í‹° ì»´í¬ë„ŒíŠ¸)
   import { Product } from '../models/product';
   
   interface Props {
     product: Product;
     onAddToCart: (product: Product) => void;
   }
   
   export const ProductCard = ({ product, onAddToCart }: Props) => {
     return (
       <div>
         <h3>{product.name}</h3>
         <p>{product.price}ì›</p>
         <button onClick={() => onAddToCart(product)}>ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
       </div>
     );
   };
   ```

2. **UI ì»´í¬ë„ŒíŠ¸ ìƒì„±**
   ```typescript
   // components/ui/Button.tsx (UI ì»´í¬ë„ŒíŠ¸)
   interface Props {
     children: React.ReactNode;
     onClick?: () => void;
     disabled?: boolean;
   }
   
   export const Button = ({ children, onClick, disabled }: Props) => {
     return (
       <button onClick={onClick} disabled={disabled}>
         {children}
       </button>
     );
   };
   ```

3. **ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ ìƒì„±**
   ```typescript
   // components/ProductList.tsx (ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸)
   import { useProducts } from '../hooks/useProducts';
   import { ProductCard } from './ProductCard';
   
   export const ProductList = () => {
     const { products, addToCart } = useProducts();
     
     return (
       <div>
         {products.map(product => (
           <ProductCard
             key={product.id}
             product={product}
             onAddToCart={addToCart}
           />
         ))}
       </div>
     );
   };
   ```

### 5ë‹¨ê³„: ê³„ì¸µ êµ¬ì¡° ì„¤ê³„

**ëª©í‘œ**: entities â†’ features â†’ UI ê³„ì¸µ êµ¬ì¡° êµ¬í˜„

**ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] entities â†’ features â†’ UI ê³„ì¸µ êµ¬ì¡°ë¥¼ êµ¬í˜„í–ˆëŠ”ê°€?
- [ ] ì˜ì¡´ì„± ë°©í–¥ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í–ˆëŠ”ê°€? (ìƒìœ„ ê³„ì¸µì´ í•˜ìœ„ ê³„ì¸µì— ì˜ì¡´)
- [ ] ìˆœí™˜ ì˜ì¡´ì„±ì„ ì œê±°í–ˆëŠ”ê°€?

**ì‹¤í–‰ ë°©ë²•:**

1. **í´ë” êµ¬ì¡° ìƒì„±**
   ```
   src/basic/
   â”œâ”€â”€ models/          # Entities ê³„ì¸µ
   â”‚   â”œâ”€â”€ cart.ts
   â”‚   â”œâ”€â”€ product.ts
   â”‚   â””â”€â”€ coupon.ts
   â”œâ”€â”€ hooks/           # Features ê³„ì¸µ
   â”‚   â”œâ”€â”€ useCart.ts
   â”‚   â”œâ”€â”€ useProducts.ts
   â”‚   â””â”€â”€ useCoupons.ts
   â”œâ”€â”€ utils/           # Features ê³„ì¸µ
   â”‚   â”œâ”€â”€ calculations.ts
   â”‚   â””â”€â”€ formatters.ts
   â””â”€â”€ components/      # UI ê³„ì¸µ
       â”œâ”€â”€ CartView.tsx
       â”œâ”€â”€ ProductCard.tsx
       â””â”€â”€ ui/
           â””â”€â”€ Button.tsx
   ```

2. **ì˜ì¡´ì„± ë°©í–¥ í™•ì¸**
   ```typescript
   // âœ… ì˜¬ë°”ë¥¸ ë°©í–¥
   // components/CartView.tsx
   import { useCart } from '../hooks/useCart'; // Features ì‚¬ìš©
   
   // hooks/useCart.ts
   import { CartItem } from '../models/cart'; // Entities ì‚¬ìš©
   
   // models/cart.ts
   // ë‹¤ë¥¸ ê³„ì¸µì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
   ```

---

## ğŸš€ ì‹¬í™”ê³¼ì œ í•™ìŠµ ê°€ì´ë“œ

### Props Drilling ë¬¸ì œ ì´í•´

#### ë¬¸ì œ ìƒí™©

**Props Drillingì´ë€?**
- Propsê°€ ì—¬ëŸ¬ ê³„ì¸µì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ê±°ì³ ì „ë‹¬ë˜ëŠ” í˜„ìƒ
- ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ëŠ” í•´ë‹¹ Propsë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ ì „ë‹¬ë§Œ í•¨
- ì½”ë“œê°€ ë³µì¡í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§

**ì˜ˆì‹œ:**

```typescript
// âŒ Props Drilling ë¬¸ì œ
const App = () => {
  const [user, setUser] = useState<User>({ name: 'John' });
  
  return (
    <Layout user={user}>  {/* userë¥¼ ì „ë‹¬ */}
      <Header user={user}>  {/* userë¥¼ ì „ë‹¬ */}
        <Navigation user={user}>  {/* userë¥¼ ì „ë‹¬ */}
          <Main user={user}>  {/* userë¥¼ ì „ë‹¬ */}
            <ProductList user={user}>  {/* ì—¬ê¸°ì„œë§Œ ì‚¬ìš© */}
              <ProductCard user={user} />  {/* ì—¬ê¸°ì„œë§Œ ì‚¬ìš© */}
            </ProductList>
          </Main>
        </Navigation>
      </Header>
    </Layout>
  );
};

// Layout, Header, Navigation, Mainì€ userë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ
// ì „ë‹¬ë§Œ í•˜ê³  ìˆìŒ â†’ Props Drilling!
```

#### í•´ê²° ë°©ë²•: Context API ë˜ëŠ” Jotai

### 1ë‹¨ê³„: ì „ì—­ ìƒíƒœ ê´€ë¦¬ êµ¬ì¶•

#### Context API ì‚¬ìš©

**Context ìƒì„±:**

```typescript
// contexts/UserContext.tsx
import { createContext, useContext, useState, ReactNode } from 'react';

interface User {
  name: string;
  email: string;
}

interface UserContextType {
  user: User | null;
  setUser: (user: User | null) => void;
}

const UserContext = createContext<UserContextType | undefined>(undefined);

export const UserProvider = ({ children }: { children: ReactNode }) => {
  const [user, setUser] = useState<User | null>(null);
  
  return (
    <UserContext.Provider value={{ user, setUser }}>
      {children}
    </UserContext.Provider>
  );
};

export const useUser = () => {
  const context = useContext(UserContext);
  if (!context) {
    throw new Error('useUser must be used within UserProvider');
  }
  return context;
};
```

**ì‚¬ìš© ë°©ë²•:**

```typescript
// App.tsx
import { UserProvider } from './contexts/UserContext';

const App = () => {
  return (
    <UserProvider>
      <Layout>
        <Header>
          <Navigation>
            <Main>
              <ProductList />
            </Main>
          </Navigation>
        </Header>
      </Layout>
    </UserProvider>
  );
};

// ProductList.tsx - userë¥¼ propsë¡œ ë°›ì§€ ì•ŠìŒ
import { useUser } from '../contexts/UserContext';

const ProductList = () => {
  const { user } = useUser(); // Contextì—ì„œ ì§ì ‘ ê°€ì ¸ì˜´
  // user ì‚¬ìš©
};
```

#### Jotai ì‚¬ìš©

**Atom ìƒì„±:**

```typescript
// atoms/user.ts
import { atom } from 'jotai';

export interface User {
  name: string;
  email: string;
}

export const userAtom = atom<User | null>(null);
```

**ì‚¬ìš© ë°©ë²•:**

```typescript
// App.tsx
import { Provider } from 'jotai';
import { Layout } from './components/Layout';

const App = () => {
  return (
    <Provider>
      <Layout>
        <ProductList />
      </Layout>
    </Provider>
  );
};

// ProductList.tsx
import { useAtom } from 'jotai';
import { userAtom } from '../atoms/user';

const ProductList = () => {
  const [user, setUser] = useAtom(userAtom); // Atomì—ì„œ ì§ì ‘ ê°€ì ¸ì˜´
  // user ì‚¬ìš©
};
```

### 2ë‹¨ê³„: Props ì„ íƒ ê¸°ì¤€

#### ë‚¨ê²¨ì•¼ í•  Props

**ë„ë©”ì¸ Props:**
- ì»´í¬ë„ŒíŠ¸ì˜ í•µì‹¬ ê¸°ëŠ¥ì— í•„ìš”í•œ ë°ì´í„°
- í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ë°ì´í„°

```typescript
// âœ… ë„ë©”ì¸ PropsëŠ” ë‚¨ê²¨ì•¼ í•¨
const ProductCard = ({ product }: { product: Product }) => {
  // productëŠ” ProductCardì˜ í•µì‹¬ ê¸°ëŠ¥
  // ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¬ì‚¬ìš©í•  ë•Œ ë‹¤ë¥¸ productë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŒ
  return <div>{product.name}</div>;
};
```

**ì½œë°± Props:**
- ì»´í¬ë„ŒíŠ¸ íŠ¹í™”ëœ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
- ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ ë‹¤ë¥¸ ë™ì‘ì„ í•´ì•¼ í•  ë•Œ

```typescript
// âœ… ì½œë°± PropsëŠ” ë‚¨ê²¨ì•¼ í•¨
const ProductCard = ({ 
  product, 
  onAddToCart 
}: { 
  product: Product;
  onAddToCart: (product: Product) => void;
}) => {
  return (
    <button onClick={() => onAddToCart(product)}>
      ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
    </button>
  );
};
```

#### ì œê±°í•´ì•¼ í•  Props

**ì „ì—­ ìƒíƒœ:**
- ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³µìœ ë˜ëŠ” ìƒíƒœ
- Contextë‚˜ Jotaië¡œ ê´€ë¦¬í•´ì•¼ í•¨

```typescript
// âŒ ì „ì—­ ìƒíƒœëŠ” Propsë¡œ ì „ë‹¬í•˜ì§€ ì•ŠìŒ
const ProductCard = ({ user }: { user: User }) => {
  // userëŠ” ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ë¨
  // Contextë‚˜ Jotaië¡œ ê´€ë¦¬í•´ì•¼ í•¨
};

// âœ… Contextë‚˜ Jotai ì‚¬ìš©
const ProductCard = () => {
  const { user } = useUser(); // Contextì—ì„œ ê°€ì ¸ì˜´
};
```

**Drilling Props:**
- ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” props
- ë‹¨ìˆœíˆ ì „ë‹¬ë§Œ í•˜ëŠ” props

```typescript
// âŒ Drilling Props
const Layout = ({ user }: { user: User }) => {
  return <Header user={user} />; // userë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ ì „ë‹¬ë§Œ í•¨
};

const Header = ({ user }: { user: User }) => {
  return <Main user={user} />; // userë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ ì „ë‹¬ë§Œ í•¨
};

// âœ… Contextë‚˜ Jotai ì‚¬ìš©
const Layout = () => {
  return <Header />; // user ì „ë‹¬ ë¶ˆí•„ìš”
};

const Header = () => {
  return <Main />; // user ì „ë‹¬ ë¶ˆí•„ìš”
};
```

### 3ë‹¨ê³„: ë¦¬íŒ©í† ë§ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Contextë‚˜ Jotaië¡œ ì „ì—­ ìƒíƒœ ê´€ë¦¬ êµ¬ì¶•
- [ ] Domain custom hookì„ ì „ì—­ ìƒíƒœì— ë§ê²Œ ë¦¬íŒ©í† ë§
- [ ] ë„ë©”ì¸ propsëŠ” ìœ ì§€í•˜ê³  drilling props ì œê±°
- [ ] ê²°í•©ë„ê°€ ë‚®ì•„ì§€ê³  ì¬ì¡°ë¦½ì´ ì‰¬ì›Œì¡ŒëŠ”ì§€ í™•ì¸

---

## ğŸ“– í•™ìŠµ ë¦¬ì†ŒìŠ¤

### ì¶”ì²œ í•™ìŠµ ìˆœì„œ

1. **ê¸°ì´ˆ ë‹¨ê³„ (1ì£¼)**
   - React Hook ê³µì‹ ë¬¸ì„œ ì½ê¸°
   - í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ ê°œë… í•™ìŠµ
   - ìˆœìˆ˜í•¨ìˆ˜ì™€ ë¶€ìˆ˜ íš¨ê³¼ ì´í•´

2. **ì‹¤ìŠµ ë‹¨ê³„ (2ì£¼)**
   - ê¸°ì¡´ ì½”ë“œ ë¶„ì„ ë° ë¦¬íŒ©í† ë§
   - Hook ë¶„ë¦¬ ì—°ìŠµ
   - ìˆœìˆ˜í•¨ìˆ˜ ì‘ì„± ì—°ìŠµ

3. **ì‹¬í™” ë‹¨ê³„ (1ì£¼)**
   - Context API ë˜ëŠ” Jotai í•™ìŠµ
   - Props drilling ì œê±° ì‹¤ìŠµ
   - ì•„í‚¤í…ì²˜ ì„¤ê³„ ì—°ìŠµ

### ì°¸ê³  ìë£Œ
- [React Hooks ê³µì‹ ë¬¸ì„œ](https://react.dev/reference/react)
- [í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê°€ì´ë“œ](https://github.com/getify/Functional-Light-JS)
- [Clean Architecture in React](https://kentcdodds.com/blog/colocation)

---

## âœ… ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì½”ë“œ í’ˆì§ˆ í™•ì¸
- [ ] ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ Hookìœ¼ë¡œ ë¶„ë¦¬ë˜ì—ˆëŠ”ê°€?
- [ ] ê³„ì‚° í•¨ìˆ˜ê°€ ìˆœìˆ˜í•¨ìˆ˜ë¡œ ì‘ì„±ë˜ì—ˆëŠ”ê°€?
- [ ] ì—”í‹°í‹° ê´€ë ¨ ì½”ë“œì™€ UI ì½”ë“œê°€ ë¶„ë¦¬ë˜ì—ˆëŠ”ê°€?
- [ ] ê³„ì¸µ êµ¬ì¡°ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ê³„ë˜ì—ˆëŠ”ê°€?
- [ ] Props drillingì´ ì ì ˆíˆ ì œê±°ë˜ì—ˆëŠ”ê°€?
- [ ] ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±ì´ í–¥ìƒë˜ì—ˆëŠ”ê°€?

### ì•„í‚¤í…ì²˜ í™•ì¸
- [ ] entities â†’ features â†’ UI ê³„ì¸µ êµ¬ì¡°ê°€ ëª…í™•í•œê°€?
- [ ] ì˜ì¡´ì„± ë°©í–¥ì´ ì˜¬ë°”ë¥¸ê°€? (ìƒìœ„ â†’ í•˜ìœ„)
- [ ] ê° ëª¨ë“ˆì˜ ì±…ì„ì´ ëª…í™•í•œê°€?
- [ ] ê²°í•©ë„ê°€ ë‚®ê³  ì‘ì§‘ë„ê°€ ë†’ì€ê°€?

---

## ğŸ“ í•™ìŠµ íŒ

1. **ì‘ì€ ë‹¨ê³„ë¡œ ì‹œì‘**: í•œ ë²ˆì— ëª¨ë“  ê²ƒì„ ë°”ê¾¸ì§€ ë§ê³  ì ì§„ì ìœ¼ë¡œ ë¦¬íŒ©í† ë§
2. **í…ŒìŠ¤íŠ¸ ì‘ì„±**: ë¦¬íŒ©í† ë§ ì „í›„ ë™ì‘ì´ ë™ì¼í•œì§€ í™•ì¸
3. **ì½”ë“œ ë¦¬ë·°**: ë‹¤ë¥¸ ì‚¬ëŒì˜ ì½”ë“œë¥¼ ë³´ê³  íŒ¨í„´ í•™ìŠµ
4. **ì‹¤ë¬´ ì ìš©**: í•™ìŠµí•œ ë‚´ìš©ì„ ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©í•´ë³´ê¸°

---

## ğŸ“ íšŒê³  ì§ˆë¬¸

ê³¼ì œë¥¼ ì™„ë£Œí•œ í›„ ë‹¤ìŒ ì§ˆë¬¸ì— ë‹µí•´ë³´ì„¸ìš”:

1. **ì•Œê²Œëœ ì , ì¢‹ì•˜ë˜ ì **
   - ì–´ë–¤ ê°œë…ì´ ê°€ì¥ ë„ì›€ì´ ë˜ì—ˆë‚˜ìš”?
   - ì–´ë–¤ íŒ¨í„´ì´ ê°€ì¥ íš¨ê³¼ì ì´ì—ˆë‚˜ìš”?

2. **ì‹ ê²½ ì“´ ë¶€ë¶„**
   - ì–´ë–¤ ë¶€ë¶„ì— ê°€ì¥ ë§ì€ ì‹œê°„ì„ íˆ¬ìí–ˆë‚˜ìš”?
   - ì–´ë–¤ ê²°ì •ì´ ê°€ì¥ ì¤‘ìš”í–ˆë‚˜ìš”?

3. **ì•ìœ¼ë¡œ í•´ë³´ê³  ì‹¶ì€ ê²ƒ**
   - ë‹¤ìŒì— ì–´ë–¤ ê¸°ìˆ ì„ í•™ìŠµí•˜ê³  ì‹¶ë‚˜ìš”?
   - ì–´ë–¤ í”„ë¡œì íŠ¸ì— ì ìš©í•´ë³´ê³  ì‹¶ë‚˜ìš”?

4. **ë¦¬ë·° ë°›ê³  ì‹¶ì€ ë‚´ìš©**
   - ì–´ë–¤ ë¶€ë¶„ì´ ê°€ì¥ ë¶ˆí™•ì‹¤í•œê°€ìš”?
   - ì–´ë–¤ ë¶€ë¶„ì— ëŒ€í•œ í”¼ë“œë°±ì„ ì›í•˜ì‹œë‚˜ìš”?

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-01
